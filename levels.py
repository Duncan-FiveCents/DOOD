import pygame
from settings import *

# Note: Levels can be any size, but they need a 5 wall buffer on the bottom and an 8 wall buffer on the right
# This is to avoid a issue with the minimap code
level1 = [
    [
    ['1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1'],
    ['1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1'],
    ['1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1'],
    ['1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1'],
    ['1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1'],
    ['1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','4','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1'],
    ['1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','0','0','0','0','0','0','0','0','0','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1'],
    ['1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','0','0','0','0','0','0','0','0','0','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1'],
    ['1','1','1','1','1','1','1','1','1','0','0','0','0','0','2','2','0','0','0','2','2','2','0','0','0','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1'],
    ['1','1','1','1','1','1','1','1','1','0','0','0','0','0','2','2','0','0','0','0','0','0','0','0','0','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1'],
    ['1','1','1','1','1','1','1','1','1','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1'],
    ['1','1','1','1','1','1','1','1','1','0','0','0','0','0','0','0','0','0','0','2','2','2','0','0','0','0','0','0','0','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1'],
    ['1','1','1','1','1','1','1','1','1','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1'],
    ['1','1','1','1','1','1','1','1','1','0','0','0','0','0','2','2','0','0','0','0','0','0','0','0','0','2','0','0','0','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1'],
    ['1','1','1','2','2','2','2','2','2','2','2','2','0','0','2','2','0','0','0','2','2','2','0','0','0','2','0','0','0','1','1','1','1','1','2','2','2','1','1','1','1','1','1','1','1','1','1'],
    ['1','1','1','0','0','0','0','0','0','2','1','2','0','0','2','2','0','0','0','0','0','0','0','0','0','2','0','0','0','2','2','2','2','2','0','0','0','2','1','1','1','1','1','1','1','1','1'],
    ['1','1','1','0','0','0','0','0','0','2','1','2','0','0','2','2','0','0','0','0','0','0','0','0','0','2','0','0','0','0','0','0','0','0','0','0','0','2','1','1','1','1','1','1','1','1','1'],
    ['1','1','1','0','0','0','0','0','0','2','1','2','0','0','2','2','2','2','2','2','3','2','2','2','2','2','0','0','0','0','0','0','0','0','0','0','0','2','1','1','1','1','1','1','1','1','1'],
    ['1','0','0','0','0','0','0','0','0','2','1','2','0','0','2','1','1','1','1','2','0','2','1','1','1','2','0','0','0','0','0','0','0','0','0','0','0','2','1','1','1','1','1','1','1','1','1'],
    ['1','0','0','0','0','0','0','0','0','2','2','2','0','0','2','1','1','1','1','2','0','2','1','1','1','2','0','0','0','2','2','2','2','2','0','0','0','2','1','1','1','1','1','1','1','1','1'],
    ['1','0','0','0','0','0','0','0','0','0','0','0','0','0','2','1','2','2','2','2','0','2','2','2','2','2','0','0','0','2','1','1','1','2','0','0','0','2','1','1','1','1','1','1','1','1','1'],
    ['1','0','0','0','0','0','0','0','0','0','0','0','0','0','2','1','2','0','0','0','0','0','0','0','2','2','0','0','0','2','1','1','2','0','0','0','0','0','2','1','1','1','1','1','1','1','1'],
    ['1','0','0','0','0','0','0','0','0','0','0','0','0','0','2','1','2','0','0','0','0','0','0','0','2','2','0','0','0','2','1','2','0','0','0','0','0','0','0','2','1','1','1','1','1','1','1'],
    ['1','0','0','0','0','0','0','0','0','2','2','2','0','0','2','1','2','0','0','0','0','0','0','0','2','2','0','0','0','2','1','2','0','0','0','0','0','0','0','2','1','1','1','1','1','1','1'],
    ['1','0','0','0','0','0','0','0','0','2','1','2','0','0','2','1','2','0','0','0','0','0','0','0','2','2','0','0','0','2','1','2','0','0','0','0','0','0','0','2','1','1','1','1','1','1','1'],
    ['1','1','1','0','0','0','0','0','0','2','1','2','0','0','2','1','1','1','1','1','1','1','1','1','1','2','0','0','0','2','2','2','2','2','2','2','2','2','2','1','1','1','1','1','1','1','1'],
    ['1','1','1','0','0','0','0','0','0','2','1','2','0','0','2','1','1','1','1','1','1','1','1','1','1','2','0','0','0','2','0','0','0','1','1','1','1','1','1','1','1','1','1','1','1','1','1'],
    ['1','1','1','0','0','0','0','0','0','2','1','2','0','0','2','1','1','1','1','1','1','2','2','2','2','2','0','0','0','2','0','0','0','1','1','1','1','1','1','1','1','1','1','1','1','1','1'],
    ['1','1','1','2','2','2','2','2','2','2','2','2','0','0','2','2','1','1','1','1','2','0','0','0','0','0','0','0','0','0','0','0','0','1','1','1','1','1','1','1','1','1','1','1','1','1','1'],
    ['1','1','1','1','1','1','0','0','0','0','0','0','0','0','0','0','2','1','1','1','2','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','1','1','1','1','1','1','1','1','1','1'],
    ['1','1','1','1','1','1','0','0','0','0','0','0','0','0','0','0','2','1','1','1','2','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','1','1','1','1','1','1','1','1','1','1'],
    ['1','1','1','1','1','1','0','0','0','0','0','0','0','0','0','0','2','1','1','1','2','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','1','1','1','1','1','1','1','1'],
    ['1','1','1','1','1','1','0','0','0','0','0','0','0','0','0','0','2','1','1','1','2','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','4','1','1','1','1','1','1','1'],
    ['1','1','1','1','1','1','0','0','0','0','0','0','0','0','0','0','2','1','1','1','2','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','1','1','1','1','1','1','1','1'],
    ['1','1','1','1','1','1','0','0','0','0','0','0','0','0','0','0','2','1','1','1','1','1','1','0','0','0','0','0','0','0','0','0','0','0','0','0','0','1','1','1','1','1','1','1','1','1','1'],
    ['1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','0','0','0','0','0','0','0','0','0','0','0','0','0','0','1','1','1','1','1','1','1','1','1','1'],
    ['1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','0','0','0','0','0','0','2','2','2','2','0','0','0','0','1','1','1','1','1','1','1','1','1','1'],
    ['1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','0','0','0','0','0','0','2','2','2','2','0','0','0','0','1','1','1','1','1','1','1','1','1','1'],
    ['1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1'],
    ['1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1'],
    ['1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1'],
    ['1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1'],
    ['1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1'],
    ['1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1'],
    ['1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1']
    ],
    [1.5,21.5,0,100,0,10,10, # Player Start (X,Y,Angle (0 = right),Health,Shield,Shells,Slugs) Starting conditions for future levels will be saved in advance
    [["Skeleton",(10.5,9.5)],["Skeleton",(10.5,33.5)],["Skeleton",(23.5,7.5)],["Skeleton",(23.5,15.5)],["Skeleton",(30.5,17.5)],["Skeleton",(35.5,24.5)],
    ["Skeleton",(22.5,29.5)],["Skeleton",(24.5,36.5)],["Skeleton",(31.5,26.5)]], # Enemies (Type,(X,Y))
    [["Health",(6.5,29.5)],["Shield",(6.5,34.5)],["Shield",(19.5,24.5)],["Shield",(20.5,24.5)],["Shield",(21.5,24.5)],["Health",(33.5,21.5)],["Health",(37.5,21.5)],["Shield",(35.5,23.5)],["Health",(21.5,33.5)],["Shield",(33.5,37.5)],["Shield",(36.5,37.5)],
    ["Shell",(38.5,33.5)],["Slug",(38.5,31.5)]] # Health & Ammo Pickups (Type,(X,Y))
    ]]

level2 = [
    [
    ['1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1'],
    ['1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','0','0','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1'],
    ['1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','0','0','0','0','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1'],
    ['1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','0','0','0','0','0','0','0','0','0','0','0','0','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1'],
    ['1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','0','0','0','0','0','0','0','0','0','0','0','0','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1'],
    ['1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','0','0','0','0','2','2','2','2','0','0','0','0','1','1','1','1','1','1','1','1','1','1','1','0','0','0','0','0','0','0','0','0','0','1','1','1','1','1','1','1','1'],
    ['1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','0','0','0','0','0','0','0','0','0','0','0','0','1','1','1','1','1','1','1','1','1','1','4','0','0','0','0','0','0','0','0','0','0','1','1','1','1','1','1','1','1'],
    ['1','1','1','1','1','1','1','1','1','1','1','1','1','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','2','1','1','1','1','1','1','1','1','0','0','0','0','0','0','0','0','0','0','1','1','1','1','1','1','1','1'],
    ['1','1','1','1','1','1','1','1','1','1','1','1','1','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','3','0','0','0','0','0','0','0','0','0','0','2','2','2','2','0','0','0','0','1','1','1','1','1','1','1','1'],
    ['1','1','1','1','1','1','1','1','1','1','1','1','1','0','0','0','0','0','0','2','2','2','2','0','0','0','0','0','0','2','2','0','0','0','0','0','0','0','0','0','2','2','2','2','0','0','0','0','1','1','1','1','1','1','1','1'],
    ['1','1','1','1','1','1','1','1','1','1','1','1','1','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','2','2','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','1','1','1','1','1','1','1','1'],
    ['1','1','1','1','1','1','1','1','1','1','1','1','1','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','2','1','2','2','2','2','2','0','0','0','0','0','0','0','0','0','0','0','0','1','1','1','1','1','1','1','1'],
    ['1','1','1','1','0','0','0','1','1','1','1','1','1','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','2','1','1','1','1','1','2','0','0','0','0','0','0','0','0','1','1','1','1','1','1','1','1','1','1','1','1'],
    ['1','1','1','1','0','0','0','1','1','1','1','1','1','1','1','1','0','0','0','0','0','0','0','0','0','0','2','2','2','1','1','1','1','1','1','2','0','0','0','0','0','0','0','0','1','1','1','1','1','1','1','1','1','1','1','1'],
    ['1','1','0','0','0','0','0','0','0','0','1','1','1','1','1','1','1','1','0','0','0','0','0','0','2','2','1','1','1','1','1','1','1','1','1','2','0','0','0','0','0','0','0','0','1','1','1','1','1','1','1','1','1','1','1','1'],
    ['1','1','0','0','0','0','0','0','0','0','1','1','1','1','1','1','1','1','2','2','0','0','2','2','1','1','1','1','1','1','1','1','1','1','1','2','0','0','0','0','0','0','0','0','1','1','1','1','1','1','1','1','1','1','1','1'],
    ['1','1','0','0','0','0','0','0','0','0','1','1','2','0','0','0','0','0','2','2','0','0','2','1','1','1','1','1','1','1','1','1','1','1','1','1','2','2','2','2','0','0','1','1','1','1','1','1','1','1','1','1','1','1','1','1'],
    ['1','1','0','0','0','0','0','0','0','0','1','1','2','0','0','0','0','0','2','2','0','0','2','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','2','0','0','1','1','1','1','1','1','1','1','1','1','1','1','1','1'],
    ['1','0','0','0','0','0','2','0','0','0','0','0','3','0','0','0','0','0','2','2','0','0','2','1','1','1','1','1','1','1','1','2','2','2','2','2','1','1','1','2','0','0','1','1','1','1','1','1','1','1','1','1','1','1','1','1'],
    ['1','0','0','0','0','0','2','0','0','0','0','0','2','2','0','0','0','0','2','2','0','0','2','2','2','2','1','1','1','1','2','0','0','0','0','0','2','1','1','2','0','0','0','0','1','1','1','1','1','1','1','1','1','1','1','1'],
    ['1','0','0','0','2','4','2','2','2','0','0','0','2','2','0','0','0','0','0','0','0','0','0','0','0','0','2','1','1','1','2','0','0','0','0','0','2','2','2','2','0','0','0','0','1','1','1','1','1','1','1','1','1','1','1','1'],
    ['1','0','0','0','2','2','2','2','2','0','0','0','2','2','0','0','0','0','0','0','0','0','0','0','0','0','2','1','1','1','2','0','0','0','0','0','0','0','0','0','0','0','0','0','1','1','1','1','1','1','1','1','1','1','1','1'],
    ['1','0','0','0','0','0','2','0','0','0','0','0','2','1','2','2','2','2','2','2','2','2','2','2','2','2','1','1','1','1','2','0','0','0','0','0','0','0','0','0','0','0','0','0','1','1','1','1','1','1','1','1','1','1','1','1'],
    ['1','0','0','0','0','0','2','0','0','0','0','0','2','1','1','1','1','1','1','1','1','1','1','1','2','2','2','2','1','1','2','0','0','2','2','2','2','2','2','2','2','2','2','2','1','1','1','1','1','1','1','1','1','1','1','1'],
    ['1','1','1','0','0','0','0','0','0','0','2','2','1','1','1','1','1','1','1','1','1','1','1','2','0','0','0','0','2','1','2','0','0','2','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1'],
    ['1','1','1','0','0','0','0','0','0','0','2','1','1','1','1','1','1','1','1','1','1','1','1','2','0','0','0','0','2','2','2','0','0','2','2','2','2','2','2','2','2','2','1','1','1','1','1','1','1','1','1','1','1','1','1','1'],
    ['1','1','1','0','0','0','0','0','0','0','2','2','2','2','2','2','2','2','2','2','2','1','1','2','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','1','1','1','1','1','1','1','1','1','1','1','1','1','1'],
    ['1','1','1','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','2','1','2','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','1','1','1','1','1','1','1','1','1','1','1','1','1','1'],
    ['1','1','1','1','1','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','2','2','2','2','0','0','0','2','0','0','0','2','2','2','2','0','0','0','0','0','0','1','1','1','1','1','1','1','1','1','1','1','1','1','1'],
    ['1','1','1','1','1','0','2','2','0','0','2','2','0','0','2','2','0','0','0','0','0','0','0','0','0','0','0','0','2','0','0','0','2','1','1','2','0','0','0','0','0','0','1','1','1','1','1','1','1','1','1','1','1','1','1','1'],
    ['1','1','1','1','1','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','2','0','0','0','2','1','1','2','0','0','0','0','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1'],
    ['1','1','1','1','1','0','0','0','0','0','0','0','0','0','0','0','0','0','0','2','1','1','1','1','2','0','0','0','2','0','0','0','2','1','1','2','0','0','0','0','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1'],
    ['1','1','1','1','1','1','1','1','1','0','0','0','0','0','0','0','0','0','0','2','1','1','1','1','2','0','0','0','0','0','0','0','2','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1'],
    ['1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','2','0','0','0','0','0','0','0','2','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1'],
    ['1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1'],
    ['1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1'],
    ['1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1'],
    ['1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1'],
    ['1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1''1','1']
    ],
    [39.5,31.5,math.pi,100,0,10,10,
    [],
    []
    ]]

class Map:
    def __init__(self,GAME,LEVEL):
        self.game = GAME
        self.levelMap = LEVEL[0]
        self.metadata = LEVEL[1]
        self.worldMap = {}
        self.createMap()
    
    def createMap(self):
        for y, row in enumerate(self.levelMap):
            for x, column in enumerate(row):
                if column != "0":
                    self.worldMap[(x,y)] = column