import pygame
from settings import *

# Note: Levels can be any size, but they need a 5 wall buffer on the bottom and an 8 wall buffer on the right
# This is to avoid a issue with the minimap code
level1 = [
    [
    ['1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1'],
    ['1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1'],
    ['1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1'],
    ['1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1'],
    ['1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1'],
    ['1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','4','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1'],
    ['1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','0','0','0','0','0','0','0','0','0','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1'],
    ['1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','0','0','0','0','0','0','0','0','0','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1'],
    ['1','1','1','1','1','1','1','1','1','0','0','0','0','0','2','2','0','0','0','2','2','2','0','0','0','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1'],
    ['1','1','1','1','1','1','1','1','1','0','0','0','0','0','2','2','0','0','0','0','0','0','0','0','0','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1'],
    ['1','1','1','1','1','1','1','1','1','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1'],
    ['1','1','1','1','1','1','1','1','1','0','0','0','0','0','0','0','0','0','0','2','2','2','0','0','0','0','0','0','0','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1'],
    ['1','1','1','1','1','1','1','1','1','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1'],
    ['1','1','1','1','1','1','1','1','1','0','0','0','0','0','2','2','0','0','0','0','0','0','0','0','0','2','0','0','0','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1'],
    ['1','1','1','2','2','2','2','2','2','2','2','2','0','0','2','2','0','0','0','2','2','2','0','0','0','2','0','0','0','1','1','1','1','1','2','2','2','1','1','1','1','1','1','1','1','1','1'],
    ['1','1','1','0','0','0','0','0','0','2','1','2','0','0','2','2','0','0','0','0','0','0','0','0','0','2','0','0','0','2','2','2','2','2','0','0','0','2','1','1','1','1','1','1','1','1','1'],
    ['1','1','1','0','0','0','0','0','0','2','1','2','0','0','2','2','0','0','0','0','0','0','0','0','0','2','0','0','0','0','0','0','0','0','0','0','0','2','1','1','1','1','1','1','1','1','1'],
    ['1','1','1','0','0','0','0','0','0','2','1','2','0','0','2','2','2','2','2','2','3','2','2','2','2','2','0','0','0','0','0','0','0','0','0','0','0','2','1','1','1','1','1','1','1','1','1'],
    ['1','0','0','0','0','0','0','0','0','2','1','2','0','0','2','1','1','1','1','2','0','2','1','1','1','2','0','0','0','0','0','0','0','0','0','0','0','2','1','1','1','1','1','1','1','1','1'],
    ['1','0','0','0','0','0','0','0','0','2','2','2','0','0','2','1','1','1','1','2','0','2','1','1','1','2','0','0','0','2','2','2','2','2','0','0','0','2','1','1','1','1','1','1','1','1','1'],
    ['1','0','0','0','0','0','0','0','0','0','0','0','0','0','2','1','2','2','2','2','0','2','2','2','2','2','0','0','0','2','1','1','1','2','0','0','0','2','1','1','1','1','1','1','1','1','1'],
    ['1','0','0','0','0','0','0','0','0','0','0','0','0','0','2','1','2','0','0','0','0','0','0','0','2','2','0','0','0','2','1','1','2','0','0','0','0','0','2','1','1','1','1','1','1','1','1'],
    ['1','0','0','0','0','0','0','0','0','0','0','0','0','0','2','1','2','0','0','0','0','0','0','0','2','2','0','0','0','2','1','2','0','0','0','0','0','0','0','2','1','1','1','1','1','1','1'],
    ['1','0','0','0','0','0','0','0','0','2','2','2','0','0','2','1','2','0','0','0','0','0','0','0','2','2','0','0','0','2','1','2','0','0','0','0','0','0','0','2','1','1','1','1','1','1','1'],
    ['1','0','0','0','0','0','0','0','0','2','1','2','0','0','2','1','2','0','0','0','0','0','0','0','2','2','0','0','0','2','1','2','0','0','0','0','0','0','0','2','1','1','1','1','1','1','1'],
    ['1','1','1','0','0','0','0','0','0','2','1','2','0','0','2','1','1','1','1','1','1','1','1','1','1','2','0','0','0','2','2','2','2','2','2','2','2','2','2','1','1','1','1','1','1','1','1'],
    ['1','1','1','0','0','0','0','0','0','2','1','2','0','0','2','1','1','1','1','1','1','1','1','1','1','2','0','0','0','2','0','0','0','1','1','1','1','1','1','1','1','1','1','1','1','1','1'],
    ['1','1','1','0','0','0','0','0','0','2','1','2','0','0','2','1','1','1','1','1','1','2','2','2','2','2','0','0','0','2','0','0','0','1','1','1','1','1','1','1','1','1','1','1','1','1','1'],
    ['1','1','1','2','2','2','2','2','2','2','2','2','0','0','2','2','1','1','1','1','2','0','0','0','0','0','0','0','0','0','0','0','0','1','1','1','1','1','1','1','1','1','1','1','1','1','1'],
    ['1','1','1','1','1','1','0','0','0','0','0','0','0','0','0','0','2','1','1','1','2','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','1','1','1','1','1','1','1','1','1','1'],
    ['1','1','1','1','1','1','0','0','0','0','0','0','0','0','0','0','2','1','1','1','2','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','1','1','1','1','1','1','1','1','1','1'],
    ['1','1','1','1','1','1','0','0','0','0','0','0','0','0','0','0','2','1','1','1','2','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','1','1','1','1','1','1','1','1'],
    ['1','1','1','1','1','1','0','0','0','0','0','0','0','0','0','0','2','1','1','1','2','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','4','1','1','1','1','1','1','1'],
    ['1','1','1','1','1','1','0','0','0','0','0','0','0','0','0','0','2','1','1','1','2','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','1','1','1','1','1','1','1','1'],
    ['1','1','1','1','1','1','0','0','0','0','0','0','0','0','0','0','2','1','1','1','1','1','1','0','0','0','0','0','0','0','0','0','0','0','0','0','0','1','1','1','1','1','1','1','1','1','1'],
    ['1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','0','0','0','0','0','0','0','0','0','0','0','0','0','0','1','1','1','1','1','1','1','1','1','1'],
    ['1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','0','0','0','0','0','0','2','2','2','2','0','0','0','0','1','1','1','1','1','1','1','1','1','1'],
    ['1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','0','0','0','0','0','0','2','2','2','2','0','0','0','0','1','1','1','1','1','1','1','1','1','1'],
    ['1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1'],
    ['1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1'],
    ['1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1'],
    ['1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1'],
    ['1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1'],
    ['1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1'],
    ['1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1']
    ],
    [1.5,21.5,0,100,0,10,10, # Player Start (X,Y,Angle (0 = right),Health,Shield,Shells,Slugs) Starting conditions for future levels will be saved in advance
    [["Skeleton",(13.5,16.5)]], # Enemies (Type,(X,Y))
    [[]] # Health & Ammo Pickups (Type,(X,Y))
    ]]

level2 = [
    [
    ['1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1'],
    ['1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','0','0','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1'],
    ['1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','0','0','0','0','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1'],
    ['1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','0','0','0','0','0','0','0','0','0','0','0','0','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1'],
    ['1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','0','0','0','0','0','0','0','0','0','0','0','0','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1'],
    ['1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','0','0','0','0','2','2','2','2','0','0','0','0','1','1','1','1','1','1','1','1','1','1','1','0','0','0','0','0','0','0','0','0','0','1','1','1','1','1','1','1','1'],
    ['1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','0','0','0','0','0','0','0','0','0','0','0','0','1','1','1','1','1','1','1','1','1','1','4','0','0','0','0','0','0','0','0','0','0','1','1','1','1','1','1','1','1'],
    ['1','1','1','1','1','1','1','1','1','1','1','1','1','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','2','1','1','1','1','1','1','1','1','0','0','0','0','0','0','0','0','0','0','1','1','1','1','1','1','1','1'],
    ['1','1','1','1','1','1','1','1','1','1','1','1','1','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','3','0','0','0','0','0','0','0','0','0','0','2','2','2','2','0','0','0','0','1','1','1','1','1','1','1','1'],
    ['1','1','1','1','1','1','1','1','1','1','1','1','1','0','0','0','0','0','0','2','2','2','2','0','0','0','0','0','0','2','2','0','0','0','0','0','0','0','0','0','2','2','2','2','0','0','0','0','1','1','1','1','1','1','1','1'],
    ['1','1','1','1','1','1','1','1','1','1','1','1','1','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','2','2','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','1','1','1','1','1','1','1','1'],
    ['1','1','1','1','1','1','1','1','1','1','1','1','1','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','2','1','2','2','2','2','2','0','0','0','0','0','0','0','0','0','0','0','0','1','1','1','1','1','1','1','1'],
    ['1','1','1','1','0','0','0','1','1','1','1','1','1','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','2','1','1','1','1','1','2','0','0','0','0','0','0','0','0','1','1','1','1','1','1','1','1','1','1','1','1'],
    ['1','1','1','1','0','0','0','1','1','1','1','1','1','1','1','1','0','0','0','0','0','0','0','0','0','0','2','2','2','1','1','1','1','1','1','2','0','0','0','0','0','0','0','0','1','1','1','1','1','1','1','1','1','1','1','1'],
    ['1','1','0','0','0','0','0','0','0','0','1','1','1','1','1','1','1','1','0','0','0','0','0','0','2','2','1','1','1','1','1','1','1','1','1','2','0','0','0','0','0','0','0','0','1','1','1','1','1','1','1','1','1','1','1','1'],
    ['1','1','0','0','0','0','0','0','0','0','1','1','1','1','1','1','1','1','2','2','0','0','2','2','1','1','1','1','1','1','1','1','1','1','1','2','0','0','0','0','0','0','0','0','1','1','1','1','1','1','1','1','1','1','1','1'],
    ['1','1','0','0','0','0','0','0','0','0','1','1','2','0','0','0','0','0','2','2','0','0','2','1','1','1','1','1','1','1','1','1','1','1','1','1','2','2','2','2','0','0','1','1','1','1','1','1','1','1','1','1','1','1','1','1'],
    ['1','1','0','0','0','0','0','0','0','0','1','1','2','0','0','0','0','0','2','2','0','0','2','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','2','0','0','1','1','1','1','1','1','1','1','1','1','1','1','1','1'],
    ['1','0','0','0','0','0','2','0','0','0','0','0','3','0','0','0','0','0','2','2','0','0','2','1','1','1','1','1','1','1','1','2','2','2','2','2','1','1','1','2','0','0','1','1','1','1','1','1','1','1','1','1','1','1','1','1'],
    ['1','0','0','0','0','0','2','0','0','0','0','0','2','2','0','0','0','0','2','2','0','0','2','2','2','2','1','1','1','1','2','0','0','0','0','0','2','1','1','2','0','0','0','0','1','1','1','1','1','1','1','1','1','1','1','1'],
    ['1','0','0','0','2','4','2','2','2','0','0','0','2','2','0','0','0','0','0','0','0','0','0','0','0','0','2','1','1','1','2','0','0','0','0','0','2','2','2','2','0','0','0','0','1','1','1','1','1','1','1','1','1','1','1','1'],
    ['1','0','0','0','2','2','2','2','2','0','0','0','2','2','0','0','0','0','0','0','0','0','0','0','0','0','2','1','1','1','2','0','0','0','0','0','0','0','0','0','0','0','0','0','1','1','1','1','1','1','1','1','1','1','1','1'],
    ['1','0','0','0','0','0','2','0','0','0','0','0','2','1','2','2','2','2','2','2','2','2','2','2','2','2','1','1','1','1','2','0','0','0','0','0','0','0','0','0','0','0','0','0','1','1','1','1','1','1','1','1','1','1','1','1'],
    ['1','0','0','0','0','0','2','0','0','0','0','0','2','1','1','1','1','1','1','1','1','1','1','1','2','2','2','2','1','1','2','0','0','2','2','2','2','2','2','2','2','2','2','2','1','1','1','1','1','1','1','1','1','1','1','1'],
    ['1','1','1','0','0','0','0','0','0','0','2','2','1','1','1','1','1','1','1','1','1','1','1','2','0','0','0','0','2','1','2','0','0','2','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1'],
    ['1','1','1','0','0','0','0','0','0','0','2','1','1','1','1','1','1','1','1','1','1','1','1','2','0','0','0','0','2','2','2','0','0','2','2','2','2','2','2','2','2','2','1','1','1','1','1','1','1','1','1','1','1','1','1','1'],
    ['1','1','1','0','0','0','0','0','0','0','2','2','2','2','2','2','2','2','2','2','2','1','1','2','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','1','1','1','1','1','1','1','1','1','1','1','1','1','1'],
    ['1','1','1','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','2','1','2','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','1','1','1','1','1','1','1','1','1','1','1','1','1','1'],
    ['1','1','1','1','1','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','2','2','2','2','0','0','0','2','0','0','0','2','2','2','2','0','0','0','0','0','0','1','1','1','1','1','1','1','1','1','1','1','1','1','1'],
    ['1','1','1','1','1','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','2','0','0','0','2','1','1','2','0','0','0','0','0','0','1','1','1','1','1','1','1','1','1','1','1','1','1','1'],
    ['1','1','1','1','1','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','2','0','0','0','2','1','1','2','0','0','0','0','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1'],
    ['1','1','1','1','1','0','0','0','0','0','0','0','0','0','0','0','0','0','0','2','1','1','1','1','2','0','0','0','2','0','0','0','2','1','1','2','0','0','0','0','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1'],
    ['1','1','1','1','1','1','1','1','1','0','0','0','0','0','0','0','0','0','0','2','1','1','1','1','2','0','0','0','0','0','0','0','2','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1'],
    ['1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','2','0','0','0','0','0','0','0','2','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1'],
    ['1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1'],
    ['1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1'],
    ['1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1'],
    ['1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1'],
    ['1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1''1','1']
    ],
    [39.5,31.5,math.pi,100,0,10,10,
    [["Skeleton",(38.5,30.5)]],
    [[]]
    ]]

class Map:
    def __init__(self,GAME,LEVEL):
        self.game = GAME
        self.levelMap = LEVEL[0]
        self.metadata = LEVEL[1]
        self.worldMap = {}
        self.createMap()
    
    def createMap(self):
        for y, row in enumerate(self.levelMap):
            for x, column in enumerate(row):
                if column != "0":
                    self.worldMap[(x,y)] = column