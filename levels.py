import pygame
from settings import *

# Note: Levels can be any size (I think), but they need a 5 wall buffer on the bottom and right
# This is to avoid a issue with the minimap code
level1 = [[
    '111111111111111111111111111111111111111111111',
    '111111111111111111111111111111111111111111111',
    '111111111111111111111111111111111111111111111',
    '111111111111111111111111111111111111111111111',
    '111111111111111111111111111111111111111111111',
    '111111111111111111114111111111111111111111111',
    '111111111111111100000000011111111111111111111',
    '111111111111111100000000011111111111111111111',
    '111111111000002200022200011111111111111111111',
    '111111111000002200000000011111111111111111111',
    '111111111000000000000000000001111111111111111',
    '111111111000000000022200000001111111111111111',
    '111111111000000000000000000001111111111111111',
    '111111111000002200000000020001111111111111111',
    '111222222222002200022200020001111122211111111',
    '111000000212002200000000020002222200021111111',
    '111000000212002200000000020000000000021111111',
    '111000000212002222223222220000000000021111111',
    '100000000212002111120211120000000000021111111',
    '100000000222002111120211120002222200021111111',
    '100000000000002122220222220002111200021111111',
    '100000000000002120000000220002112000002111111',
    '100000000000002120000000220002120000000211111',
    '100000000222002120000000220002120000000211111',
    '100000000212002120000000220002120000000211111',
    '111000000212002111111111120002222222222111111',
    '111000000212002111111111120002000111111111111',
    '111000000212002111111222220002000111111111111',
    '111222222222002211112000000000000111111111111',
    '111111000000000021112000000000000000011111111',
    '111111000000000021112000000000000000011111111',
    '111111000000000021112000000000000000000111111',
    '111111000000000021112000000000000000000411111',
    '111111000000000021112000000000000000000111111',
    '111111000000000021111110000000000000011111111',
    '111111111111111111111110000000000000011111111',
    '111111111111111111111110000002222000011111111',
    '111111111111111111111110000002222000011111111',
    '111111111111111111111111111111111111111111111',
    '111111111111111111111111111111111111111111111',
    '111111111111111111111111111111111111111111111',
    '111111111111111111111111111111111111111111111',
    '111111111111111111111111111111111111111111111',
    '111111111111111111111111111111111111111111111',
    '111111111111111111111111111111111111111111111'
    ],
    [1.5,21.5,0,100,0,10,10, # Player Start (X,Y,Angle (0 = right),Health,Shield,Shells,Slugs) Starting conditions for future levels will be saved in advance
    [["Skeleton",(4.5,21.5)],["Skeleton",(6.5,21.5)]], # Enemies (Type,(X,Y))
    [[]] # Health & Ammo Pickups (Type,(X,Y))
    ]]

level2 = [[
    '11111111111111111111111111111111111111111111111111111',
    '11111111111111111111111111111111111111111111111111111',
    '11111111111111111111111111111111111111111111111111111',
    '11111111111111111111111111111111111111111111111111111',
    '11111111111111111111111111111111111111111111111111111',
    '11111111111111111111111111111111111111000000000011111',
    '11111111111111111111111111111111111111000000000011111',
    '11111111111111111111111111111211111111000000000011111',
    '11111111111111111111111111111300000000002222000011111',
    '11111111111111111111111111111220000000002222000011111',
    '11111111111111111111111111111120000000000000000011111',
    '11111111111111111111111111111112222200000000000011111',
    '11110001111111111111111111111111111200000000111111111',
    '11110001111111111111111111111111111200000000111111111',
    '11000000001111111100000011111111111200000000111111111',
    '11000000001111111112001111111111111200000000111111111',
    '11000000001110000022001111111111111122220011111111111',
    '11000000001110000022001111111111111111120011111111111',
    '10000020000030000022001111111112222211120011111111111',
    '10000020000022000022001111111120000021120000111111111',
    '10002422200022000000000000111120000022220000111111111',
    '10002222200022000000000000111120000000000000111111111',
    '10000020000011222222222222111120000000000000111111111',
    '10000020000011111111111122221120011111111111111111111',
    '11100000001111111111111200002120011111111111111111111',
    '11100000001111111111111200002220011111111111111111111',
    '11100000001111111111111200000000000000000011111111111',
    '11100000000000000000021200000000000000000011111111111',
    '11111000000000000000022220002000211200000011111111111',
    '11111000000000000000000000002000211200000011111111111',
    '11111000000000000000000000002000211200001111111111111',
    '11111000000000000001111110002000211200001111111111111',
    '11111111100000000001111110000000111111111111111111111',
    '11111111111111111111111110000000111111111111111111111',
    '11111111111111111111111111111111111111111111111111111',
    '11111111111111111111111111111111111111111111111111111',
    '11111111111111111111111111111111111111111111111111111',
    '11111111111111111111111111111111111111111111111111111',
    '11111111111111111111111111111111111111111111111111111',
    ],
    [39.5,31.5,math.pi/2,100,0,10,10,
    [["Skeleton",(38.5,30.5)]],
    [[]]
    ]]

class Map:
    def __init__(self,GAME,LEVEL):
        self.game = GAME
        self.levelMap = LEVEL[0]
        self.metadata = LEVEL[1]
        self.worldMap = {}
        self.createMap()
    
    def createMap(self):
        for i, row in enumerate(self.levelMap):
            for j, char in enumerate(row):
                if char != "0":
                    self.worldMap[(j,i)] = char